// ============================================
// SCOPE ERROR TEST FILE
// This file contains examples of all scope errors
// ============================================

// --- ERROR 1: EnumRedefinition ---
// Declaring the same enum twice
enum Color {
    Red,
    Green,
    Blue
};

enum Color {  // ERROR: Enum redefinition
    Yellow,
    Purple
};

// --- ERROR 2: EnumVariantRedefinition ---
// Same value name used twice in one enum
enum Status {
    Active,
    Inactive,
    Active  // ERROR: Enum variant redefinition
};

// --- ERROR 3: InvalidStorageClassUsage ---
// Enum declared in non-global scope (inside function)
main {
    enum LocalEnum {  // ERROR: Invalid storage class usage (enums must be global)
        Value1,
        Value2
    };
}

// --- ERROR 4: ConflictingDeclaration ---
// Variable name conflicts with enum name
enum Size {
    Small,
    Large
};

int Size = 10;  // ERROR: Conflicting declaration (Size is already an enum)

// --- ERROR 5: ConflictingDeclaration (enum value conflict) ---
// Variable name conflicts with enum value
int Red = 5;  // ERROR: Conflicting declaration (Red is an enum value from Color)

// --- ERROR 6: VariableRedefinition ---
// Variable declared twice in same scope
int testVar = 10;
int testVar = 20;  // ERROR: Variable redefinition

// --- ERROR 7: FunctionPrototypeRedefinition ---
// Same function prototype declared multiple times
void helper(int x);
void helper(int x);  // ERROR: Function prototype redefinition

// --- ERROR 8: ConflictingFunctionDefinition ---
// Function defined with different signature than prototype
void process(int a);

void process(float a) {  // ERROR: Conflicting function definition (different parameter type)
    print(a);
}

// --- ERROR 9: ConflictingFunctionDefinition (return type) ---
// Function with same name but different return type
int calculate(int x) {
    return x * 2;
}

float calculate(int x) {  // ERROR: Conflicting function definition (different return type)
    return x * 2.5;
}

// --- ERROR 10: ParameterRedefinition ---
// Same parameter name used twice in function
int duplicate(int x, float x) {  // ERROR: Parameter redefinition
    return x;
}

// --- ERROR 11: UndeclaredVariableAccessed ---
// Using variable that was never declared
int useUndeclared() {
    return unknownVar + 5;  // ERROR: Undeclared variable accessed
}

// --- ERROR 12: UndefinedFunctionCalled ---
// Calling function that doesn't exist
main {
    int result = nonExistentFunc(10);  // ERROR: Undefined function called
}

// --- ERROR 13: InvalidForwardReference ---
// Using variable before it's declared (but it exists later)
int earlyUser() {
    return laterDeclared;  // ERROR: Invalid forward reference
}

int laterDeclared = 100;

// --- ERROR 14: InvalidForwardReference (function) ---
// Calling function before declaration (without prototype)
int caller() {
    return callee();  // ERROR: Invalid forward reference
}

int callee() {
    return 42;
}

// --- ERROR 15: ConflictingDeclaration (variable vs function) ---
// Variable name conflicts with function name
void myFunc() {
    print("Hello");
}

int myFunc = 5;  // ERROR: Conflicting declaration

// --- CORRECT EXAMPLES (for comparison) ---

// Correct: Function prototype followed by definition
void correctFunc(int x);

void correctFunc(int x) {
    print(x);
}

// Correct: Using declared variables
int validVar = 10;

int useValidVar() {
    return validVar + 5;  // OK: validVar is declared
}

// Correct: Enum values can be used as variables
enum Direction {
    North,
    South,
    East,
    West
};

int useEnumValue() {
    int dir = North;  // OK: North is an enum value
    return dir;
}

// Correct: Nested scopes with same variable name (shadowing is allowed)
int outer = 10;

void testScoping() {
    int inner = 20;
    
    if (inner > 0) {
        int inner = 30;  // OK: Different scope, shadows outer 'inner'
        print(inner);
    }
}