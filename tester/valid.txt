include<main>

// Function declarations and definitions
int add(int a, int b);
double multiply(double x, double y);

// Enum declaration
enum Color { RED, GREEN, BLUE };
enum Status { OFF, ON, STANDBY };

// Global variables
/*
int globalVar = 10;
string message = "Hello World";*/

// Function with return value
int add(int a, int b) {
    return a + b;
}

// Function with multiple parameters
double multiply(double x, double y) {
    double result = x * y;
    return result;
}

// Void function
void printMessage(string msg, int count) {
    int i = 0;
    while (i < count) {
        print(msg, i);
        i = i + 1;
    }
}

// Function with if-else
string getGrade(int score) {
    if (score >= 90) {
        return "A";
    } else {
        if (score >= 80) {
            return "B";
        } else {
            if (score >= 70) {
                return "C";
            } else {
                return "F";
            }
        }
    }
}

// Function with switch statement
/*
string getColorName(enum Color c) {
    switch (c) {
        case RED: {
            return "Red";
        }
        case GREEN: {
            return "Green";
        }
        case BLUE: {
            return "Blue";
        }
        default: {
            return "Unknown";
        }
    }
}
*/

// Function with do-while loop
int factorial(int n) {
    int result = 1;
    int i = 1;
    do {
        result = result * i;
        i = i + 1;
    } while (i <= n);
    return result;
}

// Function with for loop and break
void findNumber(int target) {
    int i;
    for (i = 0; i < 100; i = i + 1) {
        if (i == target) {
            print("Found:", i);
            break;
        }
    }
}

// Complex function with multiple control structures
void processNumbers(int limit) {
    int i = 0;
    
    // For loop with variable declaration
    for (int j = 0; j < limit; j = j + 1) {
        // Switch inside for loop
        switch (j % 3) {
            case 0 {
                print("Multiple of 3:", j);
                break;
            }
            case 1 {
                print("Remainder 1:", j);
                break;
            }
            case 2 {
                print("Remainder 2:", j);
                break;
            }
            default {
                print("Unexpected:", j);
            }
        }
        
        // If with logical operators
        if (j > 5 && j < 10) {
            print("Between 5 and 10:", j);
        }
        
        // Nested if with OR
        if (j == 0 || j == limit - 1) {
            print("First or last:", j);
        }
    }
    
    // While loop with continue-like behavior
    while (i < limit) {
        if (i % 2 == 0) {
            i = i + 1;
            continue; // simulated with if-goto
        }
        print("Odd number:", i);
        i = i + 1;
    }
}

// Function with bitwise operations
int bitwiseOps(int a, int b) {
    int andResult = a & b;
    int orResult = a | b;
    int xorResult = a ^ b;
    int shiftLeft = a << 2;
    int shiftRight = a >> 1;
    
    return andResult + orResult + xorResult + shiftLeft + shiftRight;
}

// Function with all operator types
void allOperatorsDemo() {
    int a = 10;
    int b = 3;
    double x = 5.5;
    double y = 2.0;
    
    // Arithmetic
    int sum = a + b;
    int diff = a - b;
    int product = a * b;
    int quotient = a / b;
    int remainder = a % b;
    
    // Comparison
    bool isEqual = (a == b);
    bool notEqual = (a != b);
    bool lessThan = (a < b);
    bool greaterThan = (a > b);
    bool lessEqual = (a <= b);
    bool greaterEqual = (a >= b);
    
    // Logical
    bool andResult = (a > 0 && b > 0);
    bool orResult = (a > 0 || b > 0);
    bool notResult = !(a == b);
    
    // Assignment
    int c = a;
    c = c + 1;
    c = c - 1;
    c = c * 2;
    c = c / 2;
    
    print("Operators demo completed");
}

// Main function with comprehensive tests
main {
    // Variable declarations
    int num1 = 15;
    int num2 = 25;
    double pi = 3.14159;
    char initial = 'A';
    bool flag = true;
    
    //enum Color favorite = BLUE;
    //enum Status current = ON;
    
    // Function calls
    int sum = add(num1, num2);
    double product = multiply(pi, 2.0);
    string grade = getGrade(85);
    //string colorName = getColorName(favorite);
    int fact = factorial(5);
    
    // Print results
    print("Sum:", sum);
    print("Product:", product);
    print("Grade:", grade);
    //print("Favorite color:", colorName);
    print("Factorial of 5:", fact);
    
    // Control structure tests
    printMessage("Iteration", 3);
    findNumber(42);
    processNumbers(8);
    
    // Bitwise operations
    int bitwiseResult = bitwiseOps(5, 3);
    print("Bitwise result:", bitwiseResult);
    
    // All operators demo
    allOperatorsDemo();
    
    // Complex nested structures
    int counter = 0;
    while (counter < 3) {
        print("Outer loop:", counter);
        
        for (int inner = 0; inner < 2; inner = inner + 1) {
            if (inner == 0) {
                print("Inner first iteration");
            } else {
                print("Inner second iteration");
            }
            
            switch (counter + inner) {
                case 0 {
                    print("Sum is zero");
                    break;
                }
                case 1 {
                    print("Sum is one");
                    break;
                }
                case 2 {
                    print("Sum is two");
                    break;
                }
                default {
                    print("Sum is greater than two");
                }
            }
        }
        
        counter = counter + 1;
    }
    
    // Final output
    print("All tests completed successfully!");
    return 0;
}